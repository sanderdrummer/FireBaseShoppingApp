{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 26e6cb7e974a2475a1b0","webpack:///./src/app.ts","webpack:///./src/components/product/productController.ts","webpack:///./src/components/product/productView.ts","webpack:///./src/components/product/product.ts","webpack:///./src/components/lists/listsController.ts","webpack:///./src/components/lists/listsView.ts","webpack:///./src/components/list/listController.ts","webpack:///./src/components/list/list.ts","webpack:///./src/components/list/listView.ts","webpack:///./src/router/router.ts","webpack:///./src/router/route.ts","webpack:///./src/router/param.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","ProductViewController","ListsController","ListController","Router","router","productController","listsController","listController","setProductController","window","location","hash","register","params","init","console","log","show","addProductToList","ProductView","Product","this","productView","filteredProducts","products","fireBase","Firebase","prototype","getProducts","updateHandlers","_this","addButton","document","getElementById","searchInput","addEventListener","addProduct","event","addOnEnter","filterProducts","on","snapshot","val","updateProducts","updateView","errorObject","code","res","config","Object","keys","map","render","product","name","value","indexOf","updateList","keyCode","addProductToListByClick","addProductToListByInput","notInFilteredList","length","update","view","innerHTML","productsElement","template","join","amount","rating","set","setAmount","remove","ListsView","List","lists","listsView","getLists","updateLists","listInput","addListButton","addList","addAndShowNewList","list","listsTemplate","ListView","listView","toAdd","alreadyAdded","Route","Param","routes","findParam","RegExp","handleHashChange","parseRouteUrl","route","result","getMatchAndParamsOf","url","doesMatch","callback","key","urlParts","split","hashParts","allMatches","item","index","push","test","replace","reduce","a","b","forEach"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAASI,EAAQD,QAASH,GE5ChC,YAEAA,GAAA,EACA,IAAAW,GAAAX,EAAA,GACAY,EAAAZ,EAAA,GACAa,EAAAb,EAAA,IACAc,EAAAd,EAAA,IAEAe,EAAA,GAAAD,GACAE,EAAA,GAAAL,GACAM,EAAA,GAAAL,GACAM,EAAA,GAAAL,EACAK,GAAAC,qBAAAH,GAEAI,OAAAC,SAAAC,OACAF,OAAAC,SAAAC,KAAA,MAEAP,EAAAQ,SAAA,aAAAC,GACAP,EAAAQ,SAEAF,SAAA,wBAAAC,GACAE,QAAAC,IAAAH,GACAN,EAAAU,KAAAJ,KACCD,SAAA,gCAAAC,GACDE,QAAAC,IAAAH,GACAN,EAAAU,KAAAJ,KACCD,SAAA,oCAAAC,GACDR,EAAAS,SACCF,SAAA,8CAAAC,GACDN,EAAAW,iBAAAL,MFoDM,SAASpB,EAAQD,WAKhB,CACA,CACA,CAED,SAASC,EAAQD,QAASH,GG1FhC,YACA,IAAA8B,GAAA9B,EAAA,GACA+B,EAAA/B,EAAA,GACAW,EAAA,WACA,QAAAA,KACAqB,KAAAC,YAAA,GAAAH,GACAE,KAAAE,oBACAF,KAAAG,YACAH,KAAAI,SAAA,GAAAC,UAAA,+DAwEA,MAtEA1B,GAAA2B,UAAAb,KAAA,WACAO,KAAAO,eAEA5B,EAAA2B,UAAAE,eAAA,WACA,GAAAC,GAAAT,IACAA,MAAAU,UAAAC,SAAAC,eAAA,aACAZ,KAAAa,YAAAF,SAAAC,eAAA,eACAZ,KAAAU,UAAAI,iBAAA,mBAA8D,MAAAL,GAAAM,eAC9Df,KAAAa,YAAAC,iBAAA,iBAAAE,GAAqE,MAAAP,GAAAQ,WAAAD,KACrEhB,KAAAa,YAAAC,iBAAA,mBAAgE,MAAAL,GAAAS,oBAIhEvC,EAAA2B,UAAAC,YAAA,WACA,GAAAE,GAAAT,IACAA,MAAAI,SAAAe,GAAA,iBAAAC,GACAA,EAAAC,OACAZ,EAAAa,eAAAF,EAAAC,OAEAZ,EAAAc,cACS,SAAAC,GACT9B,QAAAC,IAAA,oBAAA6B,EAAAC,SAGA9C,EAAA2B,UAAAgB,eAAA,SAAAI,GACA,GACAC,GADAlB,EAAAT,IAEA4B,QAAAC,KAAAH,GAAAI,IAAA,SAAAzD,GACAsD,EAAAD,EAAArD,GACAoC,EAAAN,SAAA9B,GAAA,GAAA0B,GAAA4B,MAGAhD,EAAA2B,UAAAiB,WAAA,WACAvB,KAAAC,YAAA8B,OAAA/B,KAAAG,UACAH,KAAAQ,kBAEA7B,EAAA2B,UAAAY,eAAA,WACA,GAEAc,GAFAvB,EAAAT,KACAiC,EAAAjC,KAAAa,YAAAqB,KAEAlC,MAAAE,oBACA0B,OAAAC,KAAA7B,KAAAG,UAAA2B,IAAA,SAAAzD,GACAqB,QAAAC,IAAAc,EAAAN,SAAA9B,GACA2D,EAAAvB,EAAAN,SAAA9B,GACA2D,EAAAC,KAAAE,QAAAF,GAAA,KACAxB,EAAAP,iBAAA7B,GAAA2D,KAGAhC,KAAAC,YAAAmC,WAAApC,KAAAE,mBAEAvB,EAAA2B,UAAAW,WAAA,SAAAD,GACA,WAAAA,EAAAqB,SACArC,KAAAe,cACA,GAFA,QAKApC,EAAA2B,UAAAgC,wBAAA,aAEA3D,EAAA2B,UAAAiC,wBAAA,aAEA5D,EAAA2B,UAAAS,WAAA,WACA,GAEAiB,GAFAC,EAAAjC,KAAAa,YAAAqB,MACAM,EAAA,IAAAZ,OAAAC,KAAA7B,KAAAE,kBAAAuC,MAEAR,IAAAO,IACAR,EAAA,GAAAjC,IAAmCkC,SACnCD,EAAAU,UAEA1C,KAAAa,YAAAqB,MAAA,IAEAvD,IAEAP,GAAAD,QAAAQ,GHiGM,SAASP,EAAQD,SInLvB,YACA,IAAA2B,GAAA,WACA,QAAAA,KACAE,KAAA2C,KAAAhC,SAAAC,eAAA,YAeA,MAbAd,GAAAQ,UAAAyB,OAAA,SAAA5B,GACAH,KAAA2C,KAAAC,UAAA,kKACA5C,KAAAoC,WAAAjC,IAEAL,EAAAQ,UAAA8B,WAAA,SAAAjC,GACA,GAAA6B,GACAa,EAAAlC,SAAAC,eAAA,gBACAkC,EAAAlB,OAAAC,KAAA1B,GAAA2B,IAAA,SAAAzD,GAEA,MADA2D,GAAA7B,EAAA9B,GACA,6BAAA2D,EAAAC,KAAA,eACSc,KAAA,GACTF,GAAAD,UAAAE,GAEAhD,IAEA1B,GAAAD,QAAA2B,GJ0LM,SAAS1B,EAAQD,SK7MvB,YACA,IAAA4B,GAAA,WACA,QAAAA,GAAA4B,GACA3B,KAAAiC,KAAAN,EAAAM,MAAA,GACAjC,KAAAgD,OAAArB,EAAAqB,QAAA,EACAhD,KAAAiD,OAAAtB,EAAAsB,QAAA,EACAjD,KAAAI,SAAA,GAAAC,UAAA,+DAAAsB,EAAAM,MAeA,MAbAlC,GAAAO,UAAAoC,OAAA,WACA1C,KAAAI,SAAA8C,KACAjB,KAAAjC,KAAAiC,KACAe,OAAAhD,KAAAgD,OACAC,OAAAjD,KAAAiD,UAGAlD,EAAAO,UAAA6C,UAAA,SAAAH,GACAhD,KAAAgD,UAEAjD,EAAAO,UAAA8C,OAAA,WACApD,KAAAI,SAAAgD,UAEArD,IAEA3B,GAAAD,QAAA4B,GLqNM,SAAS3B,EAAQD,QAASH,GM5OhC,YACA,IAAAqF,GAAArF,EAAA,GACAa,EAAAb,EAAA,IACAsF,EAAAtF,EAAA,IACAY,EAAA,WACA,QAAAA,KACAoB,KAAAuD,SACAvD,KAAAwD,UAAA,GAAAH,GACArD,KAAAd,eAAA,GAAAL,GACAmB,KAAAI,SAAA,GAAAC,UAAA,4DA0CA,MAxCAzB,GAAA0B,UAAAb,KAAA,WACAO,KAAAyD,YAEA7E,EAAA0B,UAAAmD,SAAA,WACA,GAAAhD,GAAAT,IACAA,MAAAI,UACAJ,KAAAI,SAAAe,GAAA,iBAAAC,GACA1B,QAAAC,IAAAyB,EAAAC,OACAD,GACAX,EAAAiD,YAAAtC,EAAAC,QAEa,SAAAG,GACb9B,QAAAC,IAAA,oBAAA6B,EAAAC,SAIA7C,EAAA0B,UAAAoD,YAAA,SAAAhC,GACA,GACAC,GADAlB,EAAAT,IAEA0B,IACAE,OAAAC,KAAAH,GAAAI,IAAA,SAAAG,GACAN,EAAAD,EAAAO,GACAxB,EAAA8C,MAAAtB,GAAA,GAAAqB,GAAArB,KAGAjC,KAAAwD,UAAAd,OAAA1C,KAAAuD,OACAvD,KAAAQ,kBAEA5B,EAAA0B,UAAAE,eAAA,WACA,GAAAC,GAAAT,KACA2D,EAAAhD,SAAAC,eAAA,aACAgD,EAAAjD,SAAAC,eAAA,gBACAgD,GAAA9C,iBAAA,mBAA6D,MAAAL,GAAAoD,QAAAF,MAE7D/E,EAAA0B,UAAAuD,QAAA,SAAAF,GACA,GAAAzB,GAAAyB,EAAAzB,KACAxC,SAAAC,IAAAuC,EAAA,YACAlC,KAAAd,eAAA4E,kBAAA5B,GACAyB,EAAAzB,MAAA,IAEAtD,IAEAR,GAAAD,QAAAS,GNoPM,SAASR,EAAQD,SO1SvB,YACA,IAAAkF,GAAA,WACA,QAAAA,KACArD,KAAA2C,KAAAhC,SAAAC,eAAA,QAYA,MAVAyC,GAAA/C,UAAAoC,OAAA,SAAAa,GACA,GAAAQ,GACAC,CACAA,GAAApC,OAAAC,KAAA0B,GAAAzB,IAAA,SAAAG,GAEA,MADA8B,GAAAR,EAAAtB,GACA,6DAAA8B,EAAA9B,KAAA,KAAA8B,EAAA9B,KAAA,mBACSc,KAAA,GACT,IAAAD,GAAA,sJAAAkB,EAAA,WACAhE,MAAA2C,KAAAC,UAAAE,GAEAO,IAEAjF,GAAAD,QAAAkF,GPiTM,SAASjF,EAAQD,QAASH,GQlUhC,YACA,IAAAsF,GAAAtF,EAAA,IACAiG,EAAAjG,EAAA,IACAa,EAAA,WACA,QAAAA,KACAmB,KAAAkE,SAAA,GAAAD,GAiBA,MAfApF,GAAAyB,UAAAnB,qBAAA,SAAAH,GACAgB,KAAAhB,qBAEAH,EAAAyB,UAAAwD,kBAAA,SAAA7B,GACA,GAAA8B,GAAA,GAAAT,GAAArB,EACA8B,GAAArB,UAEA7D,EAAAyB,UAAAV,KAAA,SAAAJ,GACAE,QAAAC,IAAAH,GACAQ,KAAA+D,KAAA,GAAAT,GAAA9D,EAAAuE,MACA/D,KAAA+D,KAAArB,SACA1C,KAAAkE,SAAAnC,OAAA/B,KAAA+D,OAEAlF,EAAAyB,UAAAT,iBAAA,SAAAL,KAEAX,IAEAT,GAAAD,QAAAU,GRyUM,SAAST,EAAQD,SShWvB,YACA,IAAAmF,GAAA,WACA,QAAAA,GAAArB,GACAjC,KAAAmE,SACAnE,KAAAoE,gBACApE,KAAAiC,OACAjC,KAAAI,SAAA,GAAAC,UAAA,4DAAA4B,GASA,MAPAqB,GAAAhD,UAAAoC,OAAA,WACA1C,KAAAI,SAAA8C,KACAiB,MAAAnE,KAAAmE,MACAC,aAAApE,KAAAoE,aACAnC,KAAAjC,KAAAiC,QAGAqB,IAEAlF,GAAAD,QAAAmF,GTwWM,SAASlF,EAAQD,SU1XvB,YACA,IAAA8F,GAAA,WACA,QAAAA,KACAjE,KAAA2C,KAAAhC,SAAAC,eAAA,QAaA,MAXAqD,GAAA3D,UAAAyB,OAAA,SAAAgC,GAEA/D,KAAA8C,SAAA,WAAAiB,EAAA9B,KAAA,iDAAA8B,EAAA9B,KAAA,kCAOAjC,KAAA2C,KAAAC,UAAA5C,KAAA8C,UAEAmB,IAEA7F,GAAAD,QAAA8F,GViYM,SAAS7F,EAAQD,QAASH,GWnZhC,YACA,IAAAqG,GAAArG,EAAA,IACAsG,EAAAtG,EAAA,IACAc,EAAA,WACA,QAAAA,KACA,GAAA2B,GAAAT,IACAA,MAAAuE,UACAvE,KAAAwE,UAAA,GAAAC,QAAA,cAEArF,OAAA0B,iBAAA,wBACAL,EAAAiE,qBAGA/D,SAAAG,iBAAA,8BACAL,EAAAiE,qBA4EA,MAjEA5F,GAAAwB,UAAAqE,cAAA,SAAArF,EAAAsF,GACA,GAAAC,GAAA7E,KAAA8E,oBAAAxF,EAAAsF,EAAAG,IACAF,GAAAG,WACAJ,EAAAK,SAAA,GAAAX,GAAAO,EAAArF,UAWAV,EAAAwB,UAAAwE,oBAAA,SAAAxF,EAAAyF,GACA,GAMAG,GANAzE,EAAAT,KACAmF,EAAAJ,EAAAK,MAAA,KACAC,EAAA/F,EAAA8F,MAAA,KACAJ,GAAA,EACAxF,KACA8F,IA2BA,OAvBAH,GAAA1C,SAAA4C,EAAA5C,SAIA4C,EAAAvD,IAAA,SAAAyD,EAAAC,GACAD,IAAAJ,EAAAK,GACAF,EAAAG,MAAA,GAEAhF,EAAA+D,UAAAkB,KAAAP,EAAAK,KAEAN,EAAAC,EAAAK,GAAAG,QAAA,QACAnG,EAAA0F,GAAAK,GAGAD,EAAAG,MAAA,KAIAT,EAAAM,EAAAM,OAAA,SAAAC,EAAAC,GACA,MAAAD,IAAAC,MAKAtG,SACAwF,cAKAlG,EAAAwB,UAAAoE,iBAAA,WACA,GAAAjE,GAAAT,KACAV,EAAAF,OAAAC,SAAAC,KAAAqG,QAAA,OACA3F,MAAAuE,OAAAwB,QAAA,SAAAnB,GACAnE,EAAAkE,cAAArF,EAAAsF,MAGA9F,EAAAwB,UAAAf,SAAA,SAAAwF,EAAAE,GAEA,MADAjF,MAAAuE,OAAAkB,KAAA,GAAApB,GAAAU,EAAAE,IACAjF,MAEAlB,IAEAV,GAAAD,QAAAW,GX0ZM,SAASV,EAAQD,SYtfvB,YACA,IAAAkG,GAAA,WACA,QAAAA,GAAAU,EAAAE,GACAjF,KAAA+E,MACA/E,KAAAiF,WAEA,MAAAZ,KAEAjG,GAAAD,QAAAkG,GZ6fM,SAASjG,EAAQD,SargBvB,YACA,IAAAmG,GAAA,WACA,QAAAA,GAAA3C,GACA3B,KAAA3B,GAAAsD,EAAAtD,IAAA,EACA2B,KAAA+D,KAAApC,EAAAoC,MAAA,GACA/D,KAAAgC,QAAAL,EAAAK,SAAA,GAEA,MAAAsC,KAEAlG,GAAAD,QAAAmG","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t///<reference path=\"../definitions/firebase.d.ts\" />\r\n\t__webpack_require__(1);\r\n\tvar ProductViewController = __webpack_require__(5);\r\n\tvar ListsController = __webpack_require__(8);\r\n\tvar ListController = __webpack_require__(10);\r\n\tvar Router = __webpack_require__(13);\r\n\t// bootstrap the app\r\n\tvar router = new Router();\r\n\tvar productController = new ProductViewController();\r\n\tvar listsController = new ListsController();\r\n\tvar listController = new ListController();\r\n\tlistController.setProductController(productController);\r\n\t// set routes\r\n\tif (!window.location.hash) {\r\n\t    window.location.hash = '#/';\r\n\t}\r\n\trouter.register('/', function (params) {\r\n\t    listsController.init();\r\n\t})\r\n\t    .register('/lists/:list', function (params) {\r\n\t    console.log(params);\r\n\t    listController.show(params);\r\n\t}).register('/lists/:list/destroy', function (params) {\r\n\t    console.log(params);\r\n\t    listController.show(params);\r\n\t}).register('/lists/:list/addProducts', function (params) {\r\n\t    productController.init();\r\n\t}).register('/lists/:list/addProducts/:product/', function (params) {\r\n\t    listController.addProductToList(params);\r\n\t});\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar ProductView = __webpack_require__(6);\r\n\tvar Product = __webpack_require__(7);\r\n\tvar ProductViewController = (function () {\r\n\t    function ProductViewController() {\r\n\t        this.productView = new ProductView();\r\n\t        this.filteredProducts = {};\r\n\t        this.products = {};\r\n\t        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products');\r\n\t    }\r\n\t    ProductViewController.prototype.init = function () {\r\n\t        this.getProducts();\r\n\t    };\r\n\t    ProductViewController.prototype.updateHandlers = function () {\r\n\t        var _this = this;\r\n\t        this.addButton = document.getElementById('addButton');\r\n\t        this.searchInput = document.getElementById('searchInput');\r\n\t        this.addButton.addEventListener('click', function () { return _this.addProduct(); });\r\n\t        this.searchInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event); });\r\n\t        this.searchInput.addEventListener('keyup', function () { return _this.filterProducts(); });\r\n\t        // this.fireBase.on('child_added',\r\n\t        // \t(childSnapshot, prevChildKey) => this.getProducts());\r\n\t    };\r\n\t    ProductViewController.prototype.getProducts = function () {\r\n\t        var _this = this;\r\n\t        this.fireBase.on(\"value\", function (snapshot) {\r\n\t            if (snapshot.val()) {\r\n\t                _this.updateProducts(snapshot.val());\r\n\t            }\r\n\t            _this.updateView();\r\n\t        }, function (errorObject) {\r\n\t            console.log(\"The read failed: \" + errorObject.code);\r\n\t        });\r\n\t    };\r\n\t    ProductViewController.prototype.updateProducts = function (res) {\r\n\t        var _this = this;\r\n\t        var config;\r\n\t        Object.keys(res).map(function (id) {\r\n\t            config = res[id];\r\n\t            _this.products[id] = new Product(config);\r\n\t        });\r\n\t    };\r\n\t    ProductViewController.prototype.updateView = function () {\r\n\t        this.productView.render(this.products);\r\n\t        this.updateHandlers();\r\n\t    };\r\n\t    ProductViewController.prototype.filterProducts = function () {\r\n\t        var _this = this;\r\n\t        var name = this.searchInput.value;\r\n\t        var product;\r\n\t        this.filteredProducts = {};\r\n\t        Object.keys(this.products).map(function (id) {\r\n\t            console.log(_this.products, id);\r\n\t            product = _this.products[id];\r\n\t            if (product.name.indexOf(name) > -1) {\r\n\t                _this.filteredProducts[id] = product;\r\n\t            }\r\n\t        });\r\n\t        this.productView.updateList(this.filteredProducts);\r\n\t    };\r\n\t    ProductViewController.prototype.addOnEnter = function (event) {\r\n\t        if (event.keyCode == 13) {\r\n\t            this.addProduct();\r\n\t            return false;\r\n\t        }\r\n\t    };\r\n\t    ProductViewController.prototype.addProductToListByClick = function () {\r\n\t    };\r\n\t    ProductViewController.prototype.addProductToListByInput = function () {\r\n\t    };\r\n\t    ProductViewController.prototype.addProduct = function () {\r\n\t        var name = this.searchInput.value;\r\n\t        var notInFilteredList = Object.keys(this.filteredProducts).length === 0;\r\n\t        var product;\r\n\t        if (name && notInFilteredList) {\r\n\t            product = new Product({ name: name });\r\n\t            product.update();\r\n\t        }\r\n\t        this.searchInput.value = '';\r\n\t    };\r\n\t    return ProductViewController;\r\n\t}());\r\n\tmodule.exports = ProductViewController;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ProductView = (function () {\r\n\t    function ProductView() {\r\n\t        this.view = document.getElementById('products');\r\n\t    }\r\n\t    ProductView.prototype.render = function (products) {\r\n\t        this.view.innerHTML = \"\\n\\t\\t<input id=\\\"searchInput\\\" value=\\\"\\\" placeholder=\\\"search\\\" type=\\\"text\\\">\\n        <button id=\\\"addButton\\\">Test</button>\\n        <div id=\\\"productsList\\\"></div>\\n\\t\\t\";\r\n\t        this.updateList(products);\r\n\t    };\r\n\t    ProductView.prototype.updateList = function (products) {\r\n\t        var product;\r\n\t        var productsElement = document.getElementById('productsList');\r\n\t        var template = Object.keys(products).map(function (id) {\r\n\t            product = products[id];\r\n\t            return \"<li class=\\\"product\\\">\\n\\t\\t\\t\\t\" + product.name + \"\\n\\t\\t\\t</li>\";\r\n\t        }).join('');\r\n\t        productsElement.innerHTML = template;\r\n\t    };\r\n\t    return ProductView;\r\n\t}());\r\n\tmodule.exports = ProductView;\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\t\"use strict\";\r\n\tvar Product = (function () {\r\n\t    function Product(config) {\r\n\t        this.name = config.name || '';\r\n\t        this.amount = config.amount || 1;\r\n\t        this.rating = config.rating || 0;\r\n\t        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products/' + config.name);\r\n\t    }\r\n\t    Product.prototype.update = function () {\r\n\t        this.fireBase.set({\r\n\t            name: this.name,\r\n\t            amount: this.amount,\r\n\t            rating: this.rating\r\n\t        });\r\n\t    };\r\n\t    Product.prototype.setAmount = function (amount) {\r\n\t        this.amount = amount;\r\n\t    };\r\n\t    Product.prototype.remove = function () {\r\n\t        this.fireBase.remove();\r\n\t    };\r\n\t    return Product;\r\n\t}());\r\n\tmodule.exports = Product;\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\t\"use strict\";\r\n\tvar ListsView = __webpack_require__(9);\r\n\tvar ListController = __webpack_require__(10);\r\n\tvar List = __webpack_require__(11);\r\n\tvar ListsController = (function () {\r\n\t    function ListsController() {\r\n\t        this.lists = {};\r\n\t        this.listsView = new ListsView();\r\n\t        this.listController = new ListController();\r\n\t        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists');\r\n\t    }\r\n\t    ListsController.prototype.init = function () {\r\n\t        this.getLists();\r\n\t    };\r\n\t    ListsController.prototype.getLists = function () {\r\n\t        var _this = this;\r\n\t        if (this.fireBase) {\r\n\t            this.fireBase.on(\"value\", function (snapshot) {\r\n\t                console.log(snapshot.val());\r\n\t                if (snapshot) {\r\n\t                    _this.updateLists(snapshot.val());\r\n\t                }\r\n\t            }, function (errorObject) {\r\n\t                console.log(\"The read failed: \" + errorObject.code);\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    ListsController.prototype.updateLists = function (res) {\r\n\t        var _this = this;\r\n\t        var config;\r\n\t        if (res) {\r\n\t            Object.keys(res).map(function (name) {\r\n\t                config = res[name];\r\n\t                _this.lists[name] = new List(name);\r\n\t            });\r\n\t        }\r\n\t        this.listsView.update(this.lists);\r\n\t        this.updateHandlers();\r\n\t    };\r\n\t    ListsController.prototype.updateHandlers = function () {\r\n\t        var _this = this;\r\n\t        var listInput = document.getElementById('listInput');\r\n\t        var addListButton = document.getElementById('addListButton');\r\n\t        addListButton.addEventListener('click', function () { return _this.addList(listInput); });\r\n\t    };\r\n\t    ListsController.prototype.addList = function (listInput) {\r\n\t        var value = listInput.value;\r\n\t        console.log(value, 'asdkshdf');\r\n\t        this.listController.addAndShowNewList(value);\r\n\t        listInput.value = '';\r\n\t    };\r\n\t    return ListsController;\r\n\t}());\r\n\tmodule.exports = ListsController;\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ListsView = (function () {\r\n\t    function ListsView() {\r\n\t        this.view = document.getElementById('view');\r\n\t    }\r\n\t    ListsView.prototype.update = function (lists) {\r\n\t        var list;\r\n\t        var listsTemplate;\r\n\t        listsTemplate = Object.keys(lists).map(function (name) {\r\n\t            list = lists[name];\r\n\t            return \"<li class=\\\"list\\\">\\n\\t\\t\\t\\t<a class=\\\"list-item\\\" href=\\\"#/lists/\" + list.name + \"\\\">\" + list.name + \"</a>\\n\\t\\t\\t</li>\";\r\n\t        }).join('');\r\n\t        var template = \"\\n\\t\\t<input id=\\\"listInput\\\" value=\\\"\\\" placeholder=\\\"neueListe\\\" type=\\\"text\\\">\\n        <button id=\\\"addListButton\\\">Test</button>\\n        <div id=\\\"lists\\\">\" + listsTemplate + \"<div>\\n\\t\\t\";\r\n\t        this.view.innerHTML = template;\r\n\t    };\r\n\t    return ListsView;\r\n\t}());\r\n\tmodule.exports = ListsView;\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar List = __webpack_require__(11);\r\n\tvar ListView = __webpack_require__(12);\r\n\tvar ListController = (function () {\r\n\t    function ListController() {\r\n\t        this.listView = new ListView();\r\n\t    }\r\n\t    ListController.prototype.setProductController = function (productController) {\r\n\t        this.productController = productController;\r\n\t    };\r\n\t    ListController.prototype.addAndShowNewList = function (name) {\r\n\t        var list = new List(name);\r\n\t        list.update();\r\n\t    };\r\n\t    ListController.prototype.show = function (params) {\r\n\t        console.log(params);\r\n\t        this.list = new List(params.list);\r\n\t        this.list.update();\r\n\t        this.listView.render(this.list);\r\n\t    };\r\n\t    ListController.prototype.addProductToList = function (params) {\r\n\t    };\r\n\t    return ListController;\r\n\t}());\r\n\tmodule.exports = ListController;\r\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\t\"use strict\";\r\n\tvar List = (function () {\r\n\t    function List(name) {\r\n\t        this.toAdd = {};\r\n\t        this.alreadyAdded = {};\r\n\t        this.name = name;\r\n\t        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists/' + name);\r\n\t    }\r\n\t    List.prototype.update = function () {\r\n\t        this.fireBase.set({\r\n\t            toAdd: this.toAdd,\r\n\t            alreadyAdded: this.alreadyAdded,\r\n\t            name: this.name\r\n\t        });\r\n\t    };\r\n\t    return List;\r\n\t}());\r\n\tmodule.exports = List;\r\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ListView = (function () {\r\n\t    function ListView() {\r\n\t        this.view = document.getElementById('view');\r\n\t    }\r\n\t    ListView.prototype.render = function (list) {\r\n\t        var product;\r\n\t        this.template = \"\\n\\t\\t<h1>\" + list.name + \"</h1>\\n\\t\\tdas ist ein test\\n\\t\\t<a href=\\\"#/lists/\" + list.name + \"/addProducts\\\">+ Produkt</a>\\n\\t\\t\";\r\n\t        // this.template = Object.keys(products).map((id) => {\r\n\t        // \tproduct = products[id];\r\n\t        // \treturn `<li class=\"product\">\r\n\t        // \t\t${product.name}\r\n\t        // \t</li>`\r\n\t        // }).join('');\r\n\t        this.view.innerHTML = this.template;\r\n\t    };\r\n\t    return ListView;\r\n\t}());\r\n\tmodule.exports = ListView;\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Route = __webpack_require__(14);\r\n\tvar Param = __webpack_require__(15);\r\n\tvar Router = (function () {\r\n\t    function Router() {\r\n\t        var _this = this;\r\n\t        this.routes = [];\r\n\t        this.findParam = new RegExp(':[a-zA-Z]*');\r\n\t        // Adds global eventlistener for routing on hashchange\r\n\t        window.addEventListener('hashchange', function () {\r\n\t            _this.handleHashChange();\r\n\t        });\r\n\t        // Special case load handle Hashchange on startup\r\n\t        document.addEventListener(\"DOMContentLoaded\", function () {\r\n\t            _this.handleHashChange();\r\n\t        });\r\n\t    }\r\n\t    /**\r\n\t     * Parse hash and url and check for matching\r\n\t     *\r\n\t     * @param  {string}   hash\r\n\t     * @param  {Route}   route\r\n\t     *\r\n\t     * @return {void}\r\n\t     */\r\n\t    Router.prototype.parseRouteUrl = function (hash, route) {\r\n\t        var result = this.getMatchAndParamsOf(hash, route.url);\r\n\t        if (result.doesMatch) {\r\n\t            route.callback(new Param(result.params));\r\n\t        }\r\n\t    };\r\n\t    /**\r\n\t     * Checks if route matches hash\r\n\t     * and parses params from hash\r\n\t     *\r\n\t     * @param  {string}   hash\r\n\t     * @param  {string}   url\r\n\t     * @return {Object}\r\n\t     */\r\n\t    Router.prototype.getMatchAndParamsOf = function (hash, url) {\r\n\t        var _this = this;\r\n\t        var urlParts = url.split('/');\r\n\t        var hashParts = hash.split('/');\r\n\t        var doesMatch = false;\r\n\t        var params = {};\r\n\t        var allMatches = [];\r\n\t        var key;\r\n\t        // do both hash and url have the same size ?\r\n\t        // -> could match  \r\n\t        if (urlParts.length === hashParts.length) {\r\n\t            // check all parts of given hash for matching if \r\n\t            // a part is indentified to be a param it is ignored \r\n\t            // for matching but saved into params Object\r\n\t            hashParts.map(function (item, index) {\r\n\t                if (item === urlParts[index]) {\r\n\t                    allMatches.push(true);\r\n\t                }\r\n\t                else if (_this.findParam.test(urlParts[index])) {\r\n\t                    // replace : indicator of param key\r\n\t                    key = urlParts[index].replace(':', '');\r\n\t                    params[key] = item;\r\n\t                }\r\n\t                else {\r\n\t                    allMatches.push(false);\r\n\t                }\r\n\t            });\r\n\t            // reduce all matchings to one boolean\r\n\t            doesMatch = allMatches.reduce(function (a, b) {\r\n\t                return a && b;\r\n\t            });\r\n\t        }\r\n\t        // return doesMatch flag and parsed params\r\n\t        return {\r\n\t            params: params,\r\n\t            doesMatch: doesMatch\r\n\t        };\r\n\t    };\r\n\t    /**\r\n\t     */\r\n\t    Router.prototype.handleHashChange = function () {\r\n\t        var _this = this;\r\n\t        var hash = window.location.hash.replace('#', '');\r\n\t        this.routes.forEach(function (route) {\r\n\t            _this.parseRouteUrl(hash, route);\r\n\t        });\r\n\t    };\r\n\t    Router.prototype.register = function (url, callback) {\r\n\t        this.routes.push(new Route(url, callback));\r\n\t        return this;\r\n\t    };\r\n\t    return Router;\r\n\t}());\r\n\tmodule.exports = Router;\r\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Route = (function () {\r\n\t    function Route(url, callback) {\r\n\t        this.url = url;\r\n\t        this.callback = callback;\r\n\t    }\r\n\t    return Route;\r\n\t}());\r\n\tmodule.exports = Route;\r\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Param = (function () {\r\n\t    function Param(config) {\r\n\t        this.id = config.id || 0;\r\n\t        this.list = config.list || '';\r\n\t        this.product = config.product || '';\r\n\t    }\r\n\t    return Param;\r\n\t}());\r\n\tmodule.exports = Param;\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 26e6cb7e974a2475a1b0\n **/","\"use strict\";\r\n///<reference path=\"../definitions/firebase.d.ts\" />\r\nrequire('../style/main.less');\r\nvar ProductViewController = require('./components/product/productController');\r\nvar ListsController = require('./components/lists/listsController');\r\nvar ListController = require('./components/list/listController');\r\nvar Router = require('./router/router');\r\n// bootstrap the app\r\nvar router = new Router();\r\nvar productController = new ProductViewController();\r\nvar listsController = new ListsController();\r\nvar listController = new ListController();\r\nlistController.setProductController(productController);\r\n// set routes\r\nif (!window.location.hash) {\r\n    window.location.hash = '#/';\r\n}\r\nrouter.register('/', function (params) {\r\n    listsController.init();\r\n})\r\n    .register('/lists/:list', function (params) {\r\n    console.log(params);\r\n    listController.show(params);\r\n}).register('/lists/:list/destroy', function (params) {\r\n    console.log(params);\r\n    listController.show(params);\r\n}).register('/lists/:list/addProducts', function (params) {\r\n    productController.init();\r\n}).register('/lists/:list/addProducts/:product/', function (params) {\r\n    listController.addProductToList(params);\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.ts\n ** module id = 0\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductView = require('./productView');\r\nvar Product = require('./product');\r\nvar ProductViewController = (function () {\r\n    function ProductViewController() {\r\n        this.productView = new ProductView();\r\n        this.filteredProducts = {};\r\n        this.products = {};\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products');\r\n    }\r\n    ProductViewController.prototype.init = function () {\r\n        this.getProducts();\r\n    };\r\n    ProductViewController.prototype.updateHandlers = function () {\r\n        var _this = this;\r\n        this.addButton = document.getElementById('addButton');\r\n        this.searchInput = document.getElementById('searchInput');\r\n        this.addButton.addEventListener('click', function () { return _this.addProduct(); });\r\n        this.searchInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event); });\r\n        this.searchInput.addEventListener('keyup', function () { return _this.filterProducts(); });\r\n        // this.fireBase.on('child_added',\r\n        // \t(childSnapshot, prevChildKey) => this.getProducts());\r\n    };\r\n    ProductViewController.prototype.getProducts = function () {\r\n        var _this = this;\r\n        this.fireBase.on(\"value\", function (snapshot) {\r\n            if (snapshot.val()) {\r\n                _this.updateProducts(snapshot.val());\r\n            }\r\n            _this.updateView();\r\n        }, function (errorObject) {\r\n            console.log(\"The read failed: \" + errorObject.code);\r\n        });\r\n    };\r\n    ProductViewController.prototype.updateProducts = function (res) {\r\n        var _this = this;\r\n        var config;\r\n        Object.keys(res).map(function (id) {\r\n            config = res[id];\r\n            _this.products[id] = new Product(config);\r\n        });\r\n    };\r\n    ProductViewController.prototype.updateView = function () {\r\n        this.productView.render(this.products);\r\n        this.updateHandlers();\r\n    };\r\n    ProductViewController.prototype.filterProducts = function () {\r\n        var _this = this;\r\n        var name = this.searchInput.value;\r\n        var product;\r\n        this.filteredProducts = {};\r\n        Object.keys(this.products).map(function (id) {\r\n            console.log(_this.products, id);\r\n            product = _this.products[id];\r\n            if (product.name.indexOf(name) > -1) {\r\n                _this.filteredProducts[id] = product;\r\n            }\r\n        });\r\n        this.productView.updateList(this.filteredProducts);\r\n    };\r\n    ProductViewController.prototype.addOnEnter = function (event) {\r\n        if (event.keyCode == 13) {\r\n            this.addProduct();\r\n            return false;\r\n        }\r\n    };\r\n    ProductViewController.prototype.addProductToListByClick = function () {\r\n    };\r\n    ProductViewController.prototype.addProductToListByInput = function () {\r\n    };\r\n    ProductViewController.prototype.addProduct = function () {\r\n        var name = this.searchInput.value;\r\n        var notInFilteredList = Object.keys(this.filteredProducts).length === 0;\r\n        var product;\r\n        if (name && notInFilteredList) {\r\n            product = new Product({ name: name });\r\n            product.update();\r\n        }\r\n        this.searchInput.value = '';\r\n    };\r\n    return ProductViewController;\r\n}());\r\nmodule.exports = ProductViewController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productController.ts\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductView = (function () {\r\n    function ProductView() {\r\n        this.view = document.getElementById('products');\r\n    }\r\n    ProductView.prototype.render = function (products) {\r\n        this.view.innerHTML = \"\\n\\t\\t<input id=\\\"searchInput\\\" value=\\\"\\\" placeholder=\\\"search\\\" type=\\\"text\\\">\\n        <button id=\\\"addButton\\\">Test</button>\\n        <div id=\\\"productsList\\\"></div>\\n\\t\\t\";\r\n        this.updateList(products);\r\n    };\r\n    ProductView.prototype.updateList = function (products) {\r\n        var product;\r\n        var productsElement = document.getElementById('productsList');\r\n        var template = Object.keys(products).map(function (id) {\r\n            product = products[id];\r\n            return \"<li class=\\\"product\\\">\\n\\t\\t\\t\\t\" + product.name + \"\\n\\t\\t\\t</li>\";\r\n        }).join('');\r\n        productsElement.innerHTML = template;\r\n    };\r\n    return ProductView;\r\n}());\r\nmodule.exports = ProductView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productView.ts\n ** module id = 6\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar Product = (function () {\r\n    function Product(config) {\r\n        this.name = config.name || '';\r\n        this.amount = config.amount || 1;\r\n        this.rating = config.rating || 0;\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products/' + config.name);\r\n    }\r\n    Product.prototype.update = function () {\r\n        this.fireBase.set({\r\n            name: this.name,\r\n            amount: this.amount,\r\n            rating: this.rating\r\n        });\r\n    };\r\n    Product.prototype.setAmount = function (amount) {\r\n        this.amount = amount;\r\n    };\r\n    Product.prototype.remove = function () {\r\n        this.fireBase.remove();\r\n    };\r\n    return Product;\r\n}());\r\nmodule.exports = Product;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/product.ts\n ** module id = 7\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar ListsView = require('./listsView');\r\nvar ListController = require('../list/listController');\r\nvar List = require('../list/list');\r\nvar ListsController = (function () {\r\n    function ListsController() {\r\n        this.lists = {};\r\n        this.listsView = new ListsView();\r\n        this.listController = new ListController();\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists');\r\n    }\r\n    ListsController.prototype.init = function () {\r\n        this.getLists();\r\n    };\r\n    ListsController.prototype.getLists = function () {\r\n        var _this = this;\r\n        if (this.fireBase) {\r\n            this.fireBase.on(\"value\", function (snapshot) {\r\n                console.log(snapshot.val());\r\n                if (snapshot) {\r\n                    _this.updateLists(snapshot.val());\r\n                }\r\n            }, function (errorObject) {\r\n                console.log(\"The read failed: \" + errorObject.code);\r\n            });\r\n        }\r\n    };\r\n    ListsController.prototype.updateLists = function (res) {\r\n        var _this = this;\r\n        var config;\r\n        if (res) {\r\n            Object.keys(res).map(function (name) {\r\n                config = res[name];\r\n                _this.lists[name] = new List(name);\r\n            });\r\n        }\r\n        this.listsView.update(this.lists);\r\n        this.updateHandlers();\r\n    };\r\n    ListsController.prototype.updateHandlers = function () {\r\n        var _this = this;\r\n        var listInput = document.getElementById('listInput');\r\n        var addListButton = document.getElementById('addListButton');\r\n        addListButton.addEventListener('click', function () { return _this.addList(listInput); });\r\n    };\r\n    ListsController.prototype.addList = function (listInput) {\r\n        var value = listInput.value;\r\n        console.log(value, 'asdkshdf');\r\n        this.listController.addAndShowNewList(value);\r\n        listInput.value = '';\r\n    };\r\n    return ListsController;\r\n}());\r\nmodule.exports = ListsController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/lists/listsController.ts\n ** module id = 8\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ListsView = (function () {\r\n    function ListsView() {\r\n        this.view = document.getElementById('view');\r\n    }\r\n    ListsView.prototype.update = function (lists) {\r\n        var list;\r\n        var listsTemplate;\r\n        listsTemplate = Object.keys(lists).map(function (name) {\r\n            list = lists[name];\r\n            return \"<li class=\\\"list\\\">\\n\\t\\t\\t\\t<a class=\\\"list-item\\\" href=\\\"#/lists/\" + list.name + \"\\\">\" + list.name + \"</a>\\n\\t\\t\\t</li>\";\r\n        }).join('');\r\n        var template = \"\\n\\t\\t<input id=\\\"listInput\\\" value=\\\"\\\" placeholder=\\\"neueListe\\\" type=\\\"text\\\">\\n        <button id=\\\"addListButton\\\">Test</button>\\n        <div id=\\\"lists\\\">\" + listsTemplate + \"<div>\\n\\t\\t\";\r\n        this.view.innerHTML = template;\r\n    };\r\n    return ListsView;\r\n}());\r\nmodule.exports = ListsView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/lists/listsView.ts\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\r\nvar List = require('./list');\r\nvar ListView = require('./listView');\r\nvar ListController = (function () {\r\n    function ListController() {\r\n        this.listView = new ListView();\r\n    }\r\n    ListController.prototype.setProductController = function (productController) {\r\n        this.productController = productController;\r\n    };\r\n    ListController.prototype.addAndShowNewList = function (name) {\r\n        var list = new List(name);\r\n        list.update();\r\n    };\r\n    ListController.prototype.show = function (params) {\r\n        console.log(params);\r\n        this.list = new List(params.list);\r\n        this.list.update();\r\n        this.listView.render(this.list);\r\n    };\r\n    ListController.prototype.addProductToList = function (params) {\r\n    };\r\n    return ListController;\r\n}());\r\nmodule.exports = ListController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/listController.ts\n ** module id = 10\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar List = (function () {\r\n    function List(name) {\r\n        this.toAdd = {};\r\n        this.alreadyAdded = {};\r\n        this.name = name;\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists/' + name);\r\n    }\r\n    List.prototype.update = function () {\r\n        this.fireBase.set({\r\n            toAdd: this.toAdd,\r\n            alreadyAdded: this.alreadyAdded,\r\n            name: this.name\r\n        });\r\n    };\r\n    return List;\r\n}());\r\nmodule.exports = List;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/list.ts\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ListView = (function () {\r\n    function ListView() {\r\n        this.view = document.getElementById('view');\r\n    }\r\n    ListView.prototype.render = function (list) {\r\n        var product;\r\n        this.template = \"\\n\\t\\t<h1>\" + list.name + \"</h1>\\n\\t\\tdas ist ein test\\n\\t\\t<a href=\\\"#/lists/\" + list.name + \"/addProducts\\\">+ Produkt</a>\\n\\t\\t\";\r\n        // this.template = Object.keys(products).map((id) => {\r\n        // \tproduct = products[id];\r\n        // \treturn `<li class=\"product\">\r\n        // \t\t${product.name}\r\n        // \t</li>`\r\n        // }).join('');\r\n        this.view.innerHTML = this.template;\r\n    };\r\n    return ListView;\r\n}());\r\nmodule.exports = ListView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/listView.ts\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = require('./route');\r\nvar Param = require('./param');\r\nvar Router = (function () {\r\n    function Router() {\r\n        var _this = this;\r\n        this.routes = [];\r\n        this.findParam = new RegExp(':[a-zA-Z]*');\r\n        // Adds global eventlistener for routing on hashchange\r\n        window.addEventListener('hashchange', function () {\r\n            _this.handleHashChange();\r\n        });\r\n        // Special case load handle Hashchange on startup\r\n        document.addEventListener(\"DOMContentLoaded\", function () {\r\n            _this.handleHashChange();\r\n        });\r\n    }\r\n    /**\r\n     * Parse hash and url and check for matching\r\n     *\r\n     * @param  {string}   hash\r\n     * @param  {Route}   route\r\n     *\r\n     * @return {void}\r\n     */\r\n    Router.prototype.parseRouteUrl = function (hash, route) {\r\n        var result = this.getMatchAndParamsOf(hash, route.url);\r\n        if (result.doesMatch) {\r\n            route.callback(new Param(result.params));\r\n        }\r\n    };\r\n    /**\r\n     * Checks if route matches hash\r\n     * and parses params from hash\r\n     *\r\n     * @param  {string}   hash\r\n     * @param  {string}   url\r\n     * @return {Object}\r\n     */\r\n    Router.prototype.getMatchAndParamsOf = function (hash, url) {\r\n        var _this = this;\r\n        var urlParts = url.split('/');\r\n        var hashParts = hash.split('/');\r\n        var doesMatch = false;\r\n        var params = {};\r\n        var allMatches = [];\r\n        var key;\r\n        // do both hash and url have the same size ?\r\n        // -> could match  \r\n        if (urlParts.length === hashParts.length) {\r\n            // check all parts of given hash for matching if \r\n            // a part is indentified to be a param it is ignored \r\n            // for matching but saved into params Object\r\n            hashParts.map(function (item, index) {\r\n                if (item === urlParts[index]) {\r\n                    allMatches.push(true);\r\n                }\r\n                else if (_this.findParam.test(urlParts[index])) {\r\n                    // replace : indicator of param key\r\n                    key = urlParts[index].replace(':', '');\r\n                    params[key] = item;\r\n                }\r\n                else {\r\n                    allMatches.push(false);\r\n                }\r\n            });\r\n            // reduce all matchings to one boolean\r\n            doesMatch = allMatches.reduce(function (a, b) {\r\n                return a && b;\r\n            });\r\n        }\r\n        // return doesMatch flag and parsed params\r\n        return {\r\n            params: params,\r\n            doesMatch: doesMatch\r\n        };\r\n    };\r\n    /**\r\n     */\r\n    Router.prototype.handleHashChange = function () {\r\n        var _this = this;\r\n        var hash = window.location.hash.replace('#', '');\r\n        this.routes.forEach(function (route) {\r\n            _this.parseRouteUrl(hash, route);\r\n        });\r\n    };\r\n    Router.prototype.register = function (url, callback) {\r\n        this.routes.push(new Route(url, callback));\r\n        return this;\r\n    };\r\n    return Router;\r\n}());\r\nmodule.exports = Router;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/router.ts\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = (function () {\r\n    function Route(url, callback) {\r\n        this.url = url;\r\n        this.callback = callback;\r\n    }\r\n    return Route;\r\n}());\r\nmodule.exports = Route;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/route.ts\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Param = (function () {\r\n    function Param(config) {\r\n        this.id = config.id || 0;\r\n        this.list = config.list || '';\r\n        this.product = config.product || '';\r\n    }\r\n    return Param;\r\n}());\r\nmodule.exports = Param;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/param.ts\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}