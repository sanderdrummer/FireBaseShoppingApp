{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap d3d6852f5c0a7e7df94c","webpack:///./src/app.ts","webpack:///./src/components/product/productViewController.ts","webpack:///./src/components/product/productManager.ts","webpack:///./src/components/product/product.ts","webpack:///./src/components/product/productView.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","ProductViewController","ProductManager","ProductView","_this","this","productManager","searchInput","document","getElementById","addButton","productView","addEventListener","addProduct","event","addOnEnter","filterProducts","getProducts","prototype","product","name","value","filteredProducts","Object","keys","products","map","indexOf","render","keyCode","console","log","Product","fireBase","Firebase","on","childSnapshot","prevChildKey","snapshot","updateProducts","val","updateView","errorObject","code","config","push","removeProduct","remove","res","amount","rating","inBasket","setAmount","toggleBasket","template","view","join","innerHTML"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t///<reference path=\"../definitions/firebase.d.ts\" />\r\n\t__webpack_require__(1);\r\n\tvar ProductViewController = __webpack_require__(5);\r\n\tvar productViewController = new ProductViewController();\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar ProductManager = __webpack_require__(6);\r\n\tvar ProductView = __webpack_require__(8);\r\n\tvar ProductViewController = (function () {\r\n\t    function ProductViewController() {\r\n\t        var _this = this;\r\n\t        this.productManager = new ProductManager();\r\n\t        this.searchInput = document\r\n\t            .getElementById('searchInput');\r\n\t        this.addButton = document.getElementById('addButton');\r\n\t        this.productView = new ProductView('');\r\n\t        this.addButton.addEventListener('click', function () { return _this.addProduct(); });\r\n\t        this.searchInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event); });\r\n\t        this.searchInput.addEventListener('keyup', function () { return _this.filterProducts(); });\r\n\t        this.productManager.getProducts();\r\n\t    }\r\n\t    ProductViewController.prototype.filterProducts = function () {\r\n\t        var _this = this;\r\n\t        var name = this.searchInput.value;\r\n\t        var filteredProducts = {};\r\n\t        var product;\r\n\t        Object.keys(this.productManager.products).map(function (id) {\r\n\t            product = _this.productManager.products[id];\r\n\t            if (product.name.indexOf(name) > -1) {\r\n\t                filteredProducts[id] = product;\r\n\t            }\r\n\t        });\r\n\t        this.productView.render(filteredProducts);\r\n\t    };\r\n\t    ProductViewController.prototype.addOnEnter = function (event) {\r\n\t        if (event.keyCode == 13) {\r\n\t            this.addProduct();\r\n\t            return false;\r\n\t        }\r\n\t    };\r\n\t    ProductViewController.prototype.addProduct = function () {\r\n\t        var name = this.searchInput.value;\r\n\t        console.log(this, name, 'asdasd');\r\n\t        if (name) {\r\n\t            this.productManager.addProduct({ name: name });\r\n\t            this.searchInput.value = '';\r\n\t        }\r\n\t    };\r\n\t    return ProductViewController;\r\n\t}());\r\n\tmodule.exports = ProductViewController;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Product = __webpack_require__(7);\r\n\tvar ProductView = __webpack_require__(8);\r\n\tvar ProductManager = (function () {\r\n\t    function ProductManager() {\r\n\t        var _this = this;\r\n\t        this.products = {};\r\n\t        this.productView = new ProductView('');\r\n\t        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products');\r\n\t        this.fireBase.on('child_added', function (childSnapshot, prevChildKey) { return _this.getProducts(); });\r\n\t    }\r\n\t    ProductManager.prototype.getProducts = function () {\r\n\t        var _this = this;\r\n\t        this.fireBase.on(\"value\", function (snapshot) {\r\n\t            _this.updateProducts(snapshot.val());\r\n\t            _this.updateView();\r\n\t        }, function (errorObject) {\r\n\t            console.log(\"The read failed: \" + errorObject.code);\r\n\t        });\r\n\t    };\r\n\t    ProductManager.prototype.addProduct = function (config) {\r\n\t        var _this = this;\r\n\t        var product = new Product('', config);\r\n\t        console.log(product, '654645654');\r\n\t        this.fireBase.push(product, function () {\r\n\t            _this.getProducts();\r\n\t        });\r\n\t    };\r\n\t    ProductManager.prototype.removeProduct = function (id) {\r\n\t        if (this.products[id]) {\r\n\t            this.products[id].remove();\r\n\t        }\r\n\t    };\r\n\t    ProductManager.prototype.updateProducts = function (res) {\r\n\t        var _this = this;\r\n\t        var config;\r\n\t        Object.keys(res).map(function (id) {\r\n\t            config = res[id];\r\n\t            _this.products[id] = new Product(id, config);\r\n\t        });\r\n\t    };\r\n\t    ProductManager.prototype.updateView = function () {\r\n\t        this.productView.render(this.products);\r\n\t    };\r\n\t    return ProductManager;\r\n\t}());\r\n\tmodule.exports = ProductManager;\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\t\"use strict\";\r\n\tvar Product = (function () {\r\n\t    function Product(id, config) {\r\n\t        this.id = id || '';\r\n\t        this.name = config.name || '';\r\n\t        this.amount = config.amount || 1;\r\n\t        this.rating = config.rating || 0;\r\n\t        this.inBasket = config.inBasket || false;\r\n\t        if (id) {\r\n\t            this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products/' + id);\r\n\t        }\r\n\t    }\r\n\t    Product.prototype.setAmount = function (amount) {\r\n\t        this.amount = amount;\r\n\t    };\r\n\t    Product.prototype.toggleBasket = function (inBasket) {\r\n\t        this.inBasket = inBasket;\r\n\t    };\r\n\t    Product.prototype.remove = function () {\r\n\t        this.fireBase.remove();\r\n\t    };\r\n\t    return Product;\r\n\t}());\r\n\tmodule.exports = Product;\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ProductView = (function () {\r\n\t    function ProductView(template) {\r\n\t        this.template = template;\r\n\t        this.view = document.getElementById('view');\r\n\t    }\r\n\t    ProductView.prototype.render = function (products) {\r\n\t        var product;\r\n\t        this.template = Object.keys(products).map(function (id) {\r\n\t            product = products[id];\r\n\t            return \"<li>\\n\\t\\t\\t\\t\" + product.name + \"\\n\\t\\t\\t</li>\";\r\n\t        }).join('');\r\n\t        this.view.innerHTML = this.template;\r\n\t    };\r\n\t    return ProductView;\r\n\t}());\r\n\tmodule.exports = ProductView;\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d3d6852f5c0a7e7df94c\n **/","\"use strict\";\r\n///<reference path=\"../definitions/firebase.d.ts\" />\r\nrequire('../style/main.less');\r\nvar ProductViewController = require('./components/product/productViewController');\r\nvar productViewController = new ProductViewController();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.ts\n ** module id = 0\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductManager = require('./productManager');\r\nvar ProductView = require('./productView');\r\nvar ProductViewController = (function () {\r\n    function ProductViewController() {\r\n        var _this = this;\r\n        this.productManager = new ProductManager();\r\n        this.searchInput = document\r\n            .getElementById('searchInput');\r\n        this.addButton = document.getElementById('addButton');\r\n        this.productView = new ProductView('');\r\n        this.addButton.addEventListener('click', function () { return _this.addProduct(); });\r\n        this.searchInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event); });\r\n        this.searchInput.addEventListener('keyup', function () { return _this.filterProducts(); });\r\n        this.productManager.getProducts();\r\n    }\r\n    ProductViewController.prototype.filterProducts = function () {\r\n        var _this = this;\r\n        var name = this.searchInput.value;\r\n        var filteredProducts = {};\r\n        var product;\r\n        Object.keys(this.productManager.products).map(function (id) {\r\n            product = _this.productManager.products[id];\r\n            if (product.name.indexOf(name) > -1) {\r\n                filteredProducts[id] = product;\r\n            }\r\n        });\r\n        this.productView.render(filteredProducts);\r\n    };\r\n    ProductViewController.prototype.addOnEnter = function (event) {\r\n        if (event.keyCode == 13) {\r\n            this.addProduct();\r\n            return false;\r\n        }\r\n    };\r\n    ProductViewController.prototype.addProduct = function () {\r\n        var name = this.searchInput.value;\r\n        console.log(this, name, 'asdasd');\r\n        if (name) {\r\n            this.productManager.addProduct({ name: name });\r\n            this.searchInput.value = '';\r\n        }\r\n    };\r\n    return ProductViewController;\r\n}());\r\nmodule.exports = ProductViewController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productViewController.ts\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Product = require('./product');\r\nvar ProductView = require('./productView');\r\nvar ProductManager = (function () {\r\n    function ProductManager() {\r\n        var _this = this;\r\n        this.products = {};\r\n        this.productView = new ProductView('');\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products');\r\n        this.fireBase.on('child_added', function (childSnapshot, prevChildKey) { return _this.getProducts(); });\r\n    }\r\n    ProductManager.prototype.getProducts = function () {\r\n        var _this = this;\r\n        this.fireBase.on(\"value\", function (snapshot) {\r\n            _this.updateProducts(snapshot.val());\r\n            _this.updateView();\r\n        }, function (errorObject) {\r\n            console.log(\"The read failed: \" + errorObject.code);\r\n        });\r\n    };\r\n    ProductManager.prototype.addProduct = function (config) {\r\n        var _this = this;\r\n        var product = new Product('', config);\r\n        console.log(product, '654645654');\r\n        this.fireBase.push(product, function () {\r\n            _this.getProducts();\r\n        });\r\n    };\r\n    ProductManager.prototype.removeProduct = function (id) {\r\n        if (this.products[id]) {\r\n            this.products[id].remove();\r\n        }\r\n    };\r\n    ProductManager.prototype.updateProducts = function (res) {\r\n        var _this = this;\r\n        var config;\r\n        Object.keys(res).map(function (id) {\r\n            config = res[id];\r\n            _this.products[id] = new Product(id, config);\r\n        });\r\n    };\r\n    ProductManager.prototype.updateView = function () {\r\n        this.productView.render(this.products);\r\n    };\r\n    return ProductManager;\r\n}());\r\nmodule.exports = ProductManager;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productManager.ts\n ** module id = 6\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar Product = (function () {\r\n    function Product(id, config) {\r\n        this.id = id || '';\r\n        this.name = config.name || '';\r\n        this.amount = config.amount || 1;\r\n        this.rating = config.rating || 0;\r\n        this.inBasket = config.inBasket || false;\r\n        if (id) {\r\n            this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products/' + id);\r\n        }\r\n    }\r\n    Product.prototype.setAmount = function (amount) {\r\n        this.amount = amount;\r\n    };\r\n    Product.prototype.toggleBasket = function (inBasket) {\r\n        this.inBasket = inBasket;\r\n    };\r\n    Product.prototype.remove = function () {\r\n        this.fireBase.remove();\r\n    };\r\n    return Product;\r\n}());\r\nmodule.exports = Product;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/product.ts\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductView = (function () {\r\n    function ProductView(template) {\r\n        this.template = template;\r\n        this.view = document.getElementById('view');\r\n    }\r\n    ProductView.prototype.render = function (products) {\r\n        var product;\r\n        this.template = Object.keys(products).map(function (id) {\r\n            product = products[id];\r\n            return \"<li>\\n\\t\\t\\t\\t\" + product.name + \"\\n\\t\\t\\t</li>\";\r\n        }).join('');\r\n        this.view.innerHTML = this.template;\r\n    };\r\n    return ProductView;\r\n}());\r\nmodule.exports = ProductView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productView.ts\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}