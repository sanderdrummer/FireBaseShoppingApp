{"version":3,"sources":["webpack:///webpack/bootstrap cc65da52052ebc1f30da","webpack:///./src/app.ts","webpack:///./style/main.less","webpack:///./src/components/product/productController.ts","webpack:///./src/components/product/productView.ts","webpack:///./src/components/product/product.ts","webpack:///./src/components/lists/listsController.ts","webpack:///./src/components/lists/listsView.ts","webpack:///./src/components/list/listController.ts","webpack:///./src/components/list/list.ts","webpack:///./src/components/list/listView.ts","webpack:///./src/router/router.ts","webpack:///./src/router/route.ts","webpack:///./src/router/param.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;;;;;;;;;;;;;;;;ACtCD,0C;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D,2BAA2B,EAAE;AAC3F,sEAAqE,gCAAgC,EAAE;AACvG,sEAAqE,oCAAoC,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,8DAA8D,EAAE;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA6D,iCAAiC,EAAE;AAChG,+DAA8D,2CAA2C,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,EAAC;AACD;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,MAAM;AACtB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cc65da52052ebc1f30da\n **/","\"use strict\";\r\nrequire('../style/main.less');\r\nvar ProductViewController = require('./components/product/productController');\r\nvar ListsController = require('./components/lists/listsController');\r\nvar ListController = require('./components/list/listController');\r\nvar Router = require('./router/router');\r\n// bootstrap the app\r\nvar router = new Router();\r\nvar productController = new ProductViewController();\r\nvar listsController = new ListsController();\r\nvar listController = new ListController();\r\nlistController.setProductController(productController);\r\n// set routes\r\nif (!window.location.hash) {\r\n    window.location.hash = '#/';\r\n}\r\nrouter.register('/', function (params) {\r\n    listsController.init();\r\n})\r\n    .register('/lists/:list', function (params) {\r\n    console.log(params);\r\n    listController.show(params);\r\n}).register('/lists/:list/destroy', function (params) {\r\n    listController.destroy(params);\r\n}).register('/lists/:list/reset', function (params) {\r\n    listController.reset(params);\r\n}).register('/lists/:list/addProducts', function (params) {\r\n    productController.init(params);\r\n}).register('/lists/:list/addProductToBasket/:product', function (params) {\r\n    listController.addProductToBasket(params);\r\n}).register('/lists/:list/revertProductFromBasket/:product', function (params) {\r\n    listController.revertProductFromBasket(params);\r\n}).register('/lists/:list/addProducts/:product', function (params) {\r\n    productController.selectProductAmount(params);\r\n}).register('/lists/:list/addProductToList/:product/:amount', function (params) {\r\n    listController.addProductToList(params);\r\n}).register('/products/destroy/:product', function (params) {\r\n    productController.destroy(params);\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.ts\n ** module id = 0\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./style/main.less\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductView = require('./productView');\r\nvar Product = require('./product');\r\nvar ProductViewController = (function () {\r\n    function ProductViewController() {\r\n        this.productView = new ProductView();\r\n        this.filteredProducts = {};\r\n        this.products = {};\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products');\r\n    }\r\n    ProductViewController.prototype.init = function (params) {\r\n        this.getProducts();\r\n        this.list = params.list;\r\n    };\r\n    ProductViewController.prototype.updateHandlers = function () {\r\n        var _this = this;\r\n        this.addButton = document.getElementById('addButton');\r\n        this.searchInput = document.getElementById('searchInput');\r\n        this.addButton.addEventListener('click', function () { return _this.addProduct(); });\r\n        this.searchInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event); });\r\n        this.searchInput.addEventListener('keyup', function (event) { return _this.filterProducts(event); });\r\n    };\r\n    ProductViewController.prototype.getProducts = function () {\r\n        var _this = this;\r\n        this.fireBase.on(\"value\", function (snapshot) {\r\n            if (snapshot.val()) {\r\n                _this.updateProducts(snapshot.val());\r\n            }\r\n            _this.updateView();\r\n            document.getElementById('searchInput').focus();\r\n        }, function (errorObject) {\r\n            console.log(\"The read failed: \" + errorObject.code);\r\n        });\r\n    };\r\n    ProductViewController.prototype.getProduct = function (name) {\r\n        if (this.products[name]) {\r\n            return this.products[name];\r\n        }\r\n    };\r\n    ProductViewController.prototype.updateProducts = function (res) {\r\n        var _this = this;\r\n        var config;\r\n        Object.keys(res).map(function (id) {\r\n            config = res[id];\r\n            _this.products[id] = new Product(config);\r\n        });\r\n    };\r\n    ProductViewController.prototype.updateView = function () {\r\n        this.productView.render(this.products, this.list);\r\n        this.updateHandlers();\r\n    };\r\n    ProductViewController.prototype.filterProducts = function (event) {\r\n        var _this = this;\r\n        var name = this.searchInput.value;\r\n        var product;\r\n        this.filteredProducts = {};\r\n        Object.keys(this.products).map(function (id) {\r\n            product = _this.products[id];\r\n            if (product.name.indexOf(name) > -1) {\r\n                _this.filteredProducts[id] = product;\r\n            }\r\n        });\r\n        this.productView.updateList(this.filteredProducts, this.list);\r\n    };\r\n    ProductViewController.prototype.addOnEnter = function (event) {\r\n        if (event.keyCode == 13) {\r\n            this.addProduct();\r\n            return false;\r\n        }\r\n    };\r\n    ProductViewController.prototype.addProduct = function () {\r\n        var name = this.searchInput.value;\r\n        var notInFilteredList = Object.keys(this.filteredProducts).length === 0;\r\n        var product;\r\n        if (name && notInFilteredList) {\r\n            product = new Product({ name: name });\r\n            product.update();\r\n        }\r\n        else {\r\n            product = this.filteredProducts[Object.keys(this.filteredProducts)[0]];\r\n        }\r\n        this.searchInput.value = '';\r\n        window.location.hash += '/' + product.name;\r\n    };\r\n    ProductViewController.prototype.selectProductAmount = function (param) {\r\n        this.productView.showAmount(param);\r\n    };\r\n    ProductViewController.prototype.destroy = function (params) {\r\n        var product = this.products[params.product];\r\n        if (product) {\r\n            product.destroy();\r\n            window.location.hash = '#/';\r\n        }\r\n    };\r\n    return ProductViewController;\r\n}());\r\nmodule.exports = ProductViewController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productController.ts\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ProductView = (function () {\r\n    function ProductView() {\r\n        this.view = document.getElementById('products');\r\n    }\r\n    ProductView.prototype.render = function (products, list) {\r\n        this.view.innerHTML = \"\\n        <div id=\\\"selectAmount\\\" class=\\\"hidden\\\">\\n        \\t<div class=\\\"container\\\">\\n\\t\\t\\t\\t<input id=\\\"amountInput\\\" class=\\\"grow\\\"type=\\\"text\\\" placeholder=\\\"Anzahl\\\" />\\n\\t\\t\\t</div>\\n        \\t<div class=\\\"container\\\">\\n        \\t\\t<a class=\\\"button grow\\\" href=\\\"#/\\\" id=\\\"addProductButton\\\">Produkt zur Liste</a>\\n\\t\\t\\t</div>\\n        </div>\\n    \\t<div class=\\\"container\\\">\\n\\t\\t\\t<input class=\\\"grow\\\" id=\\\"searchInput\\\" value=\\\"\\\" placeholder=\\\"search\\\" type=\\\"text\\\">\\n        </div>\\n    \\t<div class=\\\"container\\\">\\n        \\t<a class=\\\"grow button\\\" id=\\\"addButton\\\">+ Produkt</a>\\n        </div>\\n\\n        <div id=\\\"productsList\\\"></div>\\n        \\n        <div class=\\\"container\\\">\\n\\t\\t\\t<a class=\\\"button grow\\\" href=\\\"#/lists/\" + list + \"\\\"> Fertig </a>\\n\\t\\t</div>\\n\\t\\t\";\r\n        this.updateList(products, list);\r\n    };\r\n    ProductView.prototype.updateList = function (products, list) {\r\n        var product;\r\n        var productsElement = document.getElementById('productsList');\r\n        var template = Object.keys(products).map(function (id) {\r\n            product = products[id];\r\n            return \"<li class=\\\"product container\\\">\\n\\t\\t\\t\\t<a class=\\\"buttonSmall grow\\\" href=\\\"#/lists/\" + list + \"/addProducts/\" + product.name + \"\\\">\\n\\t\\t\\t\\t\\t\" + product.name + \"\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\\\"buttonSmall\\\" href=\\\"#/products/destroy/\" + product.name + \"\\\">l\\u00F6schen</a>\\n\\t\\t\\t</li>\";\r\n        }).join('');\r\n        productsElement.innerHTML = template;\r\n    };\r\n    ProductView.prototype.showAmount = function (params) {\r\n        var _this = this;\r\n        var addProductButton = document.getElementById('addProductButton');\r\n        var selectAmount = document.getElementById('selectAmount');\r\n        var amountInput = document.getElementById('amountInput');\r\n        selectAmount.classList.remove('hidden');\r\n        selectAmount.addEventListener('keyup', function (event) { return _this.updateLinkText(addProductButton, params, event); });\r\n        amountInput.focus();\r\n    };\r\n    ProductView.prototype.updateLinkText = function (elem, params, event) {\r\n        var url;\r\n        event.target.value = event.target.value;\r\n        if (event.target.value) {\r\n            url = \"#/lists/\" + params.list + \"/addProductToList/\" + params.product + \"/\" + event.target.value;\r\n            elem.href = url;\r\n            if (event.keyCode === 13) {\r\n                window.location.hash = url;\r\n            }\r\n        }\r\n    };\r\n    return ProductView;\r\n}());\r\nmodule.exports = ProductView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/productView.ts\n ** module id = 15\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar Product = (function () {\r\n    function Product(config) {\r\n        this.name = config.name || '';\r\n        this.amount = config.amount || 1;\r\n        this.rating = config.rating || 0;\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/products/' + config.name);\r\n    }\r\n    Product.prototype.update = function () {\r\n        this.fireBase.set(this.getData());\r\n    };\r\n    Product.prototype.getData = function () {\r\n        return {\r\n            name: this.name,\r\n            amount: this.amount || 1,\r\n            rating: this.rating || 0\r\n        };\r\n    };\r\n    Product.prototype.destroy = function () {\r\n        this.fireBase.remove();\r\n    };\r\n    return Product;\r\n}());\r\nmodule.exports = Product;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/product/product.ts\n ** module id = 16\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar ListsView = require('./listsView');\r\nvar ListController = require('../list/listController');\r\nvar List = require('../list/list');\r\nvar ListsController = (function () {\r\n    function ListsController() {\r\n        this.lists = {};\r\n        this.listsView = new ListsView();\r\n        this.listController = new ListController();\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists');\r\n    }\r\n    ListsController.prototype.init = function () {\r\n        this.getLists();\r\n    };\r\n    ListsController.prototype.getLists = function () {\r\n        var _this = this;\r\n        if (this.fireBase) {\r\n            this.fireBase.on(\"value\", function (snapshot) {\r\n                if (snapshot) {\r\n                    _this.updateLists(snapshot.val());\r\n                }\r\n            }, function (errorObject) {\r\n                console.log(\"The read failed: \" + errorObject.code);\r\n            });\r\n        }\r\n    };\r\n    ListsController.prototype.updateLists = function (res) {\r\n        var _this = this;\r\n        var config;\r\n        if (res) {\r\n            Object.keys(res).map(function (name) {\r\n                config = res[name];\r\n                _this.lists[name] = new List(config);\r\n            });\r\n        }\r\n        this.listsView.update(this.lists);\r\n        this.updateHandlers();\r\n    };\r\n    ListsController.prototype.updateHandlers = function () {\r\n        var _this = this;\r\n        var listInput = document.getElementById('listInput');\r\n        var addListButton = document.getElementById('addListButton');\r\n        addListButton.addEventListener('click', function () { return _this.addList(listInput); });\r\n        listInput.addEventListener('keyup', function (event) { return _this.addOnEnter(event, listInput); });\r\n    };\r\n    ListsController.prototype.addOnEnter = function (event, listInput) {\r\n        if (event.keyCode == 13) {\r\n            this.addList(listInput);\r\n            return false;\r\n        }\r\n    };\r\n    ListsController.prototype.addList = function (listInput) {\r\n        var value = listInput.value;\r\n        if (value) {\r\n            this.listController.addAndShowNewList(value);\r\n            listInput.value = '';\r\n        }\r\n    };\r\n    return ListsController;\r\n}());\r\nmodule.exports = ListsController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/lists/listsController.ts\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ListsView = (function () {\r\n    function ListsView() {\r\n        this.view = document.getElementById('view');\r\n        this.products = document.getElementById('products');\r\n    }\r\n    ListsView.prototype.update = function (lists) {\r\n        var list;\r\n        var listsTemplate;\r\n        this.products.innerHTML = '';\r\n        listsTemplate = Object.keys(lists).map(function (name) {\r\n            list = lists[name];\r\n            return \"<li class=\\\"list\\\">\\n\\t\\t\\t\\t<a class=\\\"list-item\\\" href=\\\"#/lists/\" + list.name + \"\\\">\" + list.name + \"</a>\\n\\t\\t\\t</li>\";\r\n        }).join('');\r\n        var template = \"\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<input id=\\\"listInput\\\" class=\\\"grow m-r-1\\\" required value=\\\"\\\" placeholder=\\\"neueListe\\\" type=\\\"text\\\">\\n        \\t<button id=\\\"addListButton\\\">neue Liste hinzuf\\u00FCgen</button>\\n\\t\\t</div>\\n        <div id=\\\"lists\\\">\" + listsTemplate + \"<div>\\n\\t\\t\";\r\n        this.view.innerHTML = template;\r\n    };\r\n    return ListsView;\r\n}());\r\nmodule.exports = ListsView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/lists/listsView.ts\n ** module id = 18\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar List = require('./list');\r\nvar ListView = require('./listView');\r\nvar ListController = (function () {\r\n    function ListController() {\r\n        this.listView = new ListView();\r\n    }\r\n    ListController.prototype.setProductController = function (productController) {\r\n        this.productController = productController;\r\n    };\r\n    ListController.prototype.addAndShowNewList = function (name) {\r\n        var list = new List({ name: name });\r\n        list.update();\r\n    };\r\n    ListController.prototype.show = function (params) {\r\n        var _this = this;\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists/' + params.list);\r\n        this.fireBase.on(\"value\", function (snapshot) {\r\n            if (snapshot.val()) {\r\n                _this.updateList(snapshot.val());\r\n                _this.listView.render(_this.list);\r\n            }\r\n        }, function (errorObject) {\r\n            console.log(\"The read failed: \" + errorObject.code);\r\n        });\r\n    };\r\n    ListController.prototype.updateList = function (res) {\r\n        this.list = new List(res);\r\n    };\r\n    ListController.prototype.addProductToList = function (params) {\r\n        var product = this.productController.getProduct(params.product);\r\n        product.amount = params.amount;\r\n        product.rating += 1;\r\n        this.list.toAdd[product.name] = product.getData();\r\n        this.list.update();\r\n        this.listView.render(this.list);\r\n        this.productController.updateView();\r\n        window.location.hash = \"#/lists/\" + params.list + \"/addProductToList\";\r\n    };\r\n    ListController.prototype.addProductToBasket = function (params) {\r\n        this.list.alreadyAdded[params.product] = this.list.toAdd[params.product];\r\n        this.list.toAdd[params.product] = {};\r\n        this.list.update();\r\n        this.listView.render(this.list);\r\n    };\r\n    ListController.prototype.revertProductFromBasket = function (params) {\r\n        this.list.toAdd[params.product] = this.list.alreadyAdded[params.product];\r\n        this.list.alreadyAdded[params.product] = {};\r\n        this.list.update();\r\n        this.listView.render(this.list);\r\n    };\r\n    ListController.prototype.reset = function (params) {\r\n        this.list.toAdd = {};\r\n        this.list.alreadyAdded = {};\r\n        this.list.update();\r\n        this.listView.render(this.list);\r\n    };\r\n    ListController.prototype.destroy = function (params) {\r\n        this.list.fireBase.remove();\r\n        window.location.hash = '#/';\r\n        delete this.list;\r\n        delete this;\r\n    };\r\n    return ListController;\r\n}());\r\nmodule.exports = ListController;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/listController.ts\n ** module id = 19\n ** module chunks = 0\n **/","///<reference path=\"../../../definitions/firebase.d.ts\" />\r\n\"use strict\";\r\nvar List = (function () {\r\n    function List(config) {\r\n        this.toAdd = config.toAdd || {};\r\n        this.alreadyAdded = config.alreadyAdded || {};\r\n        this.name = config.name.trim();\r\n        this.onLoad = config.onLoad || function () { };\r\n        this.fireBase = new Firebase('https://sizzling-torch-925.firebaseio.com/shopping/lists/' + config.name.trim());\r\n    }\r\n    List.prototype.update = function () {\r\n        this.fireBase.set({\r\n            toAdd: this.toAdd,\r\n            alreadyAdded: this.alreadyAdded,\r\n            name: this.name\r\n        });\r\n    };\r\n    return List;\r\n}());\r\nmodule.exports = List;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/list.ts\n ** module id = 20\n ** module chunks = 0\n **/","\"use strict\";\r\nvar ListView = (function () {\r\n    function ListView() {\r\n        this.view = document.getElementById('view');\r\n        this.products = document.getElementById('products');\r\n    }\r\n    ListView.prototype.render = function (list) {\r\n        this.products.innerHTML = '';\r\n        this.template = \"\\n\\t\\t<h1>\" + list.name + \"</h1>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<a class=\\\"button grow\\\" href=\\\"#/lists/\" + list.name + \"/addProducts\\\">+ Produkt</a>\\n\\t\\t</div>\\n\\t\\t<h2>noch in den Korb</h2>\\n\\t\\t<div id=\\\"toAdd\\\"></div>\\n\\t\\t<h2>schon dabei</h2>\\n\\t\\t<div id=\\\"alreadyAdded\\\"></div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<a class=\\\"button grow\\\" href=\\\"#/lists/\" + list.name + \"/reset\\\">Leeren</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"container\\\">\\n\\t\\t\\t<a class=\\\"button grow\\\" href=\\\"#/lists/\" + list.name + \"/destroy\\\">l\\u00F6schen</a>\\n\\t\\t</div>\\n\\t\\t<a \\n\\t\\t<a class=\\\"list-item\\\" \\n\\t\\t\";\r\n        this.view.innerHTML = this.template;\r\n        this.updateList(list, 'toAdd');\r\n        this.updateList(list, 'alreadyAdded');\r\n    };\r\n    ListView.prototype.updateList = function (list, type) {\r\n        var listElement = document.getElementById(type);\r\n        var template;\r\n        var url;\r\n        template = Object.keys(list[type]).map(function (product) {\r\n            var selected = list[type][product];\r\n            console.log(selected);\r\n            url = type === 'toAdd' ? \"#/lists/\" + list.name + \"/addProductToBasket/\" + product : \"#/lists/\" + list.name + \"/revertProductFromBasket/\" + product;\r\n            return \"\\n\\t\\t\\t\\t<li class=\\\"product container\\\"><a class=\\\"buttonSmall grow\\\" href=\\\"\" + url + \"\\\">\" + product + \" - <input type=\\\"text\\\" value=\\\"\" + selected.amount + \"\\\"/></a></li>\\n\\t\\t\\t\";\r\n        }).join('');\r\n        listElement.innerHTML = template;\r\n    };\r\n    return ListView;\r\n}());\r\nmodule.exports = ListView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/list/listView.ts\n ** module id = 21\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = require('./route');\r\nvar Param = require('./param');\r\nvar Router = (function () {\r\n    function Router() {\r\n        var _this = this;\r\n        this.routes = [];\r\n        this.findParam = new RegExp(':[a-zA-Z]*');\r\n        // Adds global eventlistener for routing on hashchange\r\n        window.addEventListener('hashchange', function () {\r\n            _this.handleHashChange();\r\n        });\r\n        // Special case load handle Hashchange on startup\r\n        document.addEventListener(\"DOMContentLoaded\", function () {\r\n            _this.handleHashChange();\r\n        });\r\n    }\r\n    /**\r\n     * Parse hash and url and check for matching\r\n     *\r\n     * @param  {string}   hash\r\n     * @param  {Route}   route\r\n     *\r\n     * @return {void}\r\n     */\r\n    Router.prototype.parseRouteUrl = function (hash, route) {\r\n        var result = this.getMatchAndParamsOf(hash, route.url);\r\n        if (result.doesMatch) {\r\n            route.callback(new Param(result.params));\r\n        }\r\n    };\r\n    /**\r\n     * Checks if route matches hash\r\n     * and parses params from hash\r\n     *\r\n     * @param  {string}   hash\r\n     * @param  {string}   url\r\n     * @return {Object}\r\n     */\r\n    Router.prototype.getMatchAndParamsOf = function (hash, url) {\r\n        var _this = this;\r\n        var urlParts = url.split('/');\r\n        var hashParts = hash.split('/');\r\n        var doesMatch = false;\r\n        var params = {};\r\n        var allMatches = [];\r\n        var key;\r\n        // do both hash and url have the same size ?\r\n        // -> could match  \r\n        if (urlParts.length === hashParts.length) {\r\n            // check all parts of given hash for matching if \r\n            // a part is indentified to be a param it is ignored \r\n            // for matching but saved into params Object\r\n            hashParts.map(function (item, index) {\r\n                if (item === urlParts[index]) {\r\n                    allMatches.push(true);\r\n                }\r\n                else if (_this.findParam.test(urlParts[index])) {\r\n                    // replace : indicator of param key\r\n                    key = urlParts[index].replace(':', '');\r\n                    params[key] = item;\r\n                }\r\n                else {\r\n                    allMatches.push(false);\r\n                }\r\n            });\r\n            // reduce all matchings to one boolean\r\n            doesMatch = allMatches.reduce(function (a, b) {\r\n                return a && b;\r\n            });\r\n        }\r\n        // return doesMatch flag and parsed params\r\n        return {\r\n            params: params,\r\n            doesMatch: doesMatch\r\n        };\r\n    };\r\n    /**\r\n     */\r\n    Router.prototype.handleHashChange = function () {\r\n        var _this = this;\r\n        var hash = window.location.hash.replace('#', '');\r\n        this.routes.forEach(function (route) {\r\n            _this.parseRouteUrl(hash, route);\r\n        });\r\n    };\r\n    Router.prototype.register = function (url, callback) {\r\n        this.routes.push(new Route(url, callback));\r\n        return this;\r\n    };\r\n    return Router;\r\n}());\r\nmodule.exports = Router;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/router.ts\n ** module id = 22\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Route = (function () {\r\n    function Route(url, callback) {\r\n        this.url = url;\r\n        this.callback = callback;\r\n    }\r\n    return Route;\r\n}());\r\nmodule.exports = Route;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/route.ts\n ** module id = 23\n ** module chunks = 0\n **/","\"use strict\";\r\nvar Param = (function () {\r\n    function Param(config) {\r\n        this.id = config.id || 0;\r\n        this.amount = config.amount || 0;\r\n        this.list = config.list || '';\r\n        this.product = config.product || '';\r\n    }\r\n    return Param;\r\n}());\r\nmodule.exports = Param;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/router/param.ts\n ** module id = 24\n ** module chunks = 0\n **/"],"sourceRoot":""}