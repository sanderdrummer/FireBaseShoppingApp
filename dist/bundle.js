!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,exports,e){"use strict";e(1);var n=e(5),i=e(8),o=e(10),s=e(13),r=new s,u=new n,d=new i,a=new o;a.setProductController(u),window.location.hash||(window.location.hash="#/"),r.register("/",function(t){d.init()}).register("/lists/:list",function(t){console.log(t),a.show(t)}).register("/lists/:list/destroy",function(t){console.log(t),a.show(t)}).register("/lists/:list/addProducts",function(t){u.init(t)}).register("/lists/:list/addProducts/:product",function(t){u.selectProductAmount(t)}).register("/lists/:list/addProductToList/:product/:amount",function(t){a.addProductToList(t)})},function(t,exports){},,,,function(t,exports,e){"use strict";var n=e(6),i=e(7),o=function(){function t(){this.productView=new n,this.filteredProducts={},this.products={},this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/products")}return t.prototype.init=function(t){this.getProducts(),this.list=t.list},t.prototype.updateHandlers=function(){var t=this;this.addButton=document.getElementById("addButton"),this.searchInput=document.getElementById("searchInput"),this.addButton.addEventListener("click",function(){return t.addProduct()}),this.searchInput.addEventListener("keyup",function(e){return t.addOnEnter(e)}),this.searchInput.addEventListener("keyup",function(){return t.filterProducts()})},t.prototype.getProducts=function(){var t=this;this.fireBase.on("value",function(e){e.val()&&t.updateProducts(e.val()),t.updateView()},function(t){console.log("The read failed: "+t.code)})},t.prototype.getProduct=function(t){return this.products[t]?this.products[t]:void 0},t.prototype.updateProducts=function(t){var e,n=this;Object.keys(t).map(function(o){e=t[o],n.products[o]=new i(e)})},t.prototype.updateView=function(){this.productView.render(this.products,this.list),this.updateHandlers()},t.prototype.filterProducts=function(){var t,e=this,n=this.searchInput.value;this.filteredProducts={},Object.keys(this.products).map(function(i){console.log(e.products,i),t=e.products[i],t.name.indexOf(n)>-1&&(e.filteredProducts[i]=t)}),this.productView.updateList(this.filteredProducts,this.list)},t.prototype.addOnEnter=function(t){return 13==t.keyCode?(this.addProduct(),!1):void 0},t.prototype.addProduct=function(){var t,e=this.searchInput.value,n=0===Object.keys(this.filteredProducts).length;e&&n&&(t=new i({name:e}),t.update()),this.searchInput.value=""},t.prototype.selectProductAmount=function(t){this.productView.showAmount(t)},t}();t.exports=o},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("products")}return t.prototype.render=function(t,e){this.view.innerHTML='\n        <div id="selectAmount" class="hidden">\n			<input type="number" placeholder="Anzahl" />\n        	<a href="#/" id="addProductButton">+</a>\n        </div>\n		<input id="searchInput" value="" placeholder="search" type="text">\n        <button id="addButton">Test</button>\n        <div id="productsList"></div>\n		',this.updateList(t,e)},t.prototype.updateList=function(t,e){var n,i=document.getElementById("productsList"),o=Object.keys(t).map(function(i){return n=t[i],'<li class="product">\n				<a href="#/lists/'+e+"/addProducts/"+n.name+'">\n					'+n.name+"\n				</a>\n			</li>"}).join("");i.innerHTML=o},t.prototype.showAmount=function(t){var e=this,n=document.getElementById("selectAmount"),i=document.getElementById("addProductButton");n.classList.remove("hidden"),n.addEventListener("keyup",function(n){return e.updateLinkText(i,t,n)})},t.prototype.updateLinkText=function(t,e,n){t.href="#/lists/"+e.list+"/addProductToList/"+e.product+"/"+n.target.value},t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(t){this.name=t.name||"",this.amount=t.amount||1,this.rating=t.rating||0,this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/products/"+t.name)}return t.prototype.update=function(){this.fireBase.set({name:this.name,amount:this.amount,rating:this.rating})},t.prototype.setAmount=function(t){this.amount=t},t.prototype.remove=function(){this.fireBase.remove()},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(9),i=e(10),o=e(11),s=function(){function t(){this.lists={},this.listsView=new n,this.listController=new i,this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/lists")}return t.prototype.init=function(){this.getLists()},t.prototype.getLists=function(){var t=this;this.fireBase&&this.fireBase.on("value",function(e){console.log(e.val()),e&&t.updateLists(e.val())},function(t){console.log("The read failed: "+t.code)})},t.prototype.updateLists=function(t){var e,n=this;t&&Object.keys(t).map(function(i){e=t[i],n.lists[i]=new o(e)}),this.listsView.update(this.lists),this.updateHandlers()},t.prototype.updateHandlers=function(){var t=this,e=document.getElementById("listInput"),n=document.getElementById("addListButton");n.addEventListener("click",function(){return t.addList(e)})},t.prototype.addList=function(t){var e=t.value;this.listController.addAndShowNewList(e),t.value=""},t}();t.exports=s},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("view"),this.products=document.getElementById("products")}return t.prototype.update=function(t){var e,n;this.products.innerHTML="",n=Object.keys(t).map(function(n){return e=t[n],console.log("list",e),'<li class="list">\n				<a class="list-item" href="#/lists/'+e.name+'">'+e.name+"</a>\n			</li>"}).join("");var i='\n		<input id="listInput" value="" placeholder="neueListe" type="text">\n        <button id="addListButton">Test</button>\n        <div id="lists">'+n+"<div>\n		";this.view.innerHTML=i},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(11),i=e(12),o=function(){function t(){this.listView=new i}return t.prototype.setProductController=function(t){this.productController=t},t.prototype.addAndShowNewList=function(t){var e=new n({name:t});e.update()},t.prototype.show=function(t){var e=this;console.log(t),this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/lists/"+t.list),this.fireBase.on("value",function(t){t.val()&&(e.updateList(t.val()),e.listView.render(e.list))},function(t){console.log("The read failed: "+t.code)})},t.prototype.updateList=function(t){console.log(t),this.list=new n(t)},t.prototype.addProductToList=function(t){var e=this.productController.getProduct(t.product);console.log("addProductToList",t,e),this.list.toAdd[e.name]=e.name,this.list.update(),this.listView.render(this.list)},t}();t.exports=o},function(t,exports){"use strict";var e=function(){function t(t){this.toAdd=t.toAdd||{},this.alreadyAdded=t.alreadyAdded||{},this.name=t.name.trim(),this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/lists/"+t.name.trim())}return t.prototype.update=function(){this.fireBase.set({toAdd:this.toAdd,alreadyAdded:this.alreadyAdded,name:this.name})},t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("view"),this.products=document.getElementById("products")}return t.prototype.render=function(t){this.products.innerHTML="",this.template="\n		<h1>"+t.name+'</h1>\n		das ist ein test\n		<a href="#/lists/'+t.name+'/addProducts">+ Produkt</a>\n		<div id="toAdd"></div>\n		<div id="alreadyAdded"></div>\n		',this.view.innerHTML=this.template,this.updateList(t,"toAdd"),this.updateList(t,"alreadyAdded")},t.prototype.updateList=function(t,e){var n,i=document.getElementById(e);n=Object.keys(t[e]).map(function(t){return console.log(t),"\n				<li>"+t+"</li>\n			"}).join(""),i.innerHTML=n},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(14),i=e(15),o=function(){function t(){var t=this;this.routes=[],this.findParam=new RegExp(":[a-zA-Z]*"),window.addEventListener("hashchange",function(){t.handleHashChange()}),document.addEventListener("DOMContentLoaded",function(){t.handleHashChange()})}return t.prototype.parseRouteUrl=function(t,e){var n=this.getMatchAndParamsOf(t,e.url);n.doesMatch&&e.callback(new i(n.params))},t.prototype.getMatchAndParamsOf=function(t,e){var n,i=this,o=e.split("/"),s=t.split("/"),r=!1,u={},d=[];return o.length===s.length&&(s.map(function(t,e){t===o[e]?d.push(!0):i.findParam.test(o[e])?(n=o[e].replace(":",""),u[n]=t):d.push(!1)}),r=d.reduce(function(t,e){return t&&e})),{params:u,doesMatch:r}},t.prototype.handleHashChange=function(){var t=this,e=window.location.hash.replace("#","");this.routes.forEach(function(n){t.parseRouteUrl(e,n)})},t.prototype.register=function(t,e){return this.routes.push(new n(t,e)),this},t}();t.exports=o},function(t,exports){"use strict";var e=function(){function t(t,e){this.url=t,this.callback=e}return t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(t){this.id=t.id||0,this.amount=t.amount||0,this.list=t.list||"",this.product=t.product||""}return t}();t.exports=e}]);
//# sourceMappingURL=bundle.js.map