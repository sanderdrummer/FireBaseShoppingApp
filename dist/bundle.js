!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,exports,e){"use strict";e(1);var n=e(5),i=e(8),s=e(10),o=e(13),r=new o,u=new n,a=new i,d=new s;d.setProductController(u),window.location.hash||(window.location.hash="#/"),r.register("/",function(t){a.init()}).register("/lists/:list",function(t){console.log(t),d.show(t)}).register("/lists/:list/destroy",function(t){console.log(t),d.show(t)}).register("/lists/:list/addProducts",function(t){u.init()}).register("/lists/:list/addProducts/:product/",function(t){d.addProductToList(t)})},function(t,exports){},,,,function(t,exports,e){"use strict";var n=e(6),i=e(7),s=function(){function t(){this.productView=new n,this.filteredProducts={},this.products={},this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/products")}return t.prototype.init=function(){this.getProducts()},t.prototype.updateHandlers=function(){var t=this;this.addButton=document.getElementById("addButton"),this.searchInput=document.getElementById("searchInput"),this.addButton.addEventListener("click",function(){return t.addProduct()}),this.searchInput.addEventListener("keyup",function(e){return t.addOnEnter(e)}),this.searchInput.addEventListener("keyup",function(){return t.filterProducts()})},t.prototype.getProducts=function(){var t=this;this.fireBase.on("value",function(e){e.val()&&t.updateProducts(e.val()),t.updateView()},function(t){console.log("The read failed: "+t.code)})},t.prototype.updateProducts=function(t){var e,n=this;Object.keys(t).map(function(s){e=t[s],n.products[s]=new i(e)})},t.prototype.updateView=function(){this.productView.render(this.products),this.updateHandlers()},t.prototype.filterProducts=function(){var t,e=this,n=this.searchInput.value;this.filteredProducts={},Object.keys(this.products).map(function(i){console.log(e.products,i),t=e.products[i],t.name.indexOf(n)>-1&&(e.filteredProducts[i]=t)}),this.productView.updateList(this.filteredProducts)},t.prototype.addOnEnter=function(t){return 13==t.keyCode?(this.addProduct(),!1):void 0},t.prototype.addProductToListByClick=function(){},t.prototype.addProductToListByInput=function(){},t.prototype.addProduct=function(){var t,e=this.searchInput.value,n=0===Object.keys(this.filteredProducts).length;e&&n&&(t=new i({name:e}),t.update()),this.searchInput.value=""},t}();t.exports=s},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("products")}return t.prototype.render=function(t){this.view.innerHTML='\n		<input id="searchInput" value="" placeholder="search" type="text">\n        <button id="addButton">Test</button>\n        <div id="productsList"></div>\n		',this.updateList(t)},t.prototype.updateList=function(t){var e,n=document.getElementById("productsList"),i=Object.keys(t).map(function(n){return e=t[n],'<li class="product">\n				'+e.name+"\n			</li>"}).join("");n.innerHTML=i},t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(t){this.name=t.name||"",this.amount=t.amount||1,this.rating=t.rating||0,this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/products/"+t.name)}return t.prototype.update=function(){this.fireBase.set({name:this.name,amount:this.amount,rating:this.rating})},t.prototype.setAmount=function(t){this.amount=t},t.prototype.remove=function(){this.fireBase.remove()},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(9),i=e(10),s=e(11),o=function(){function t(){this.lists={},this.listsView=new n,this.listController=new i,this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/lists")}return t.prototype.init=function(){this.getLists()},t.prototype.getLists=function(){var t=this;this.fireBase&&this.fireBase.on("value",function(e){console.log(e.val()),e&&t.updateLists(e.val())},function(t){console.log("The read failed: "+t.code)})},t.prototype.updateLists=function(t){var e,n=this;t&&Object.keys(t).map(function(i){e=t[i],n.lists[i]=new s(i)}),this.listsView.update(this.lists),this.updateHandlers()},t.prototype.updateHandlers=function(){var t=this,e=document.getElementById("listInput"),n=document.getElementById("addListButton");n.addEventListener("click",function(){return t.addList(e)})},t.prototype.addList=function(t){var e=t.value;console.log(e,"asdkshdf"),this.listController.addAndShowNewList(e),t.value=""},t}();t.exports=o},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("view")}return t.prototype.update=function(t){var e,n;n=Object.keys(t).map(function(n){return e=t[n],'<li class="list">\n				<a class="list-item" href="#/lists/'+e.name+'">'+e.name+"</a>\n			</li>"}).join("");var i='\n		<input id="listInput" value="" placeholder="neueListe" type="text">\n        <button id="addListButton">Test</button>\n        <div id="lists">'+n+"<div>\n		";this.view.innerHTML=i},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(11),i=e(12),s=function(){function t(){this.listView=new i}return t.prototype.setProductController=function(t){this.productController=t},t.prototype.addAndShowNewList=function(t){var e=new n(t);e.update()},t.prototype.show=function(t){console.log(t),this.list=new n(t.list),this.list.update(),this.listView.render(this.list)},t.prototype.addProductToList=function(t){},t}();t.exports=s},function(t,exports){"use strict";var e=function(){function t(t){this.toAdd={},this.alreadyAdded={},this.name=t,this.fireBase=new Firebase("https://sizzling-torch-925.firebaseio.com/shopping/lists/"+t)}return t.prototype.update=function(){this.fireBase.set({toAdd:this.toAdd,alreadyAdded:this.alreadyAdded,name:this.name})},t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(){this.view=document.getElementById("view")}return t.prototype.render=function(t){this.template="\n		<h1>"+t.name+'</h1>\n		das ist ein test\n		<a href="#/lists/'+t.name+'/addProducts">+ Produkt</a>\n		',this.view.innerHTML=this.template},t}();t.exports=e},function(t,exports,e){"use strict";var n=e(14),i=e(15),s=function(){function t(){var t=this;this.routes=[],this.findParam=new RegExp(":[a-zA-Z]*"),window.addEventListener("hashchange",function(){t.handleHashChange()}),document.addEventListener("DOMContentLoaded",function(){t.handleHashChange()})}return t.prototype.parseRouteUrl=function(t,e){var n=this.getMatchAndParamsOf(t,e.url);n.doesMatch&&e.callback(new i(n.params))},t.prototype.getMatchAndParamsOf=function(t,e){var n,i=this,s=e.split("/"),o=t.split("/"),r=!1,u={},a=[];return s.length===o.length&&(o.map(function(t,e){t===s[e]?a.push(!0):i.findParam.test(s[e])?(n=s[e].replace(":",""),u[n]=t):a.push(!1)}),r=a.reduce(function(t,e){return t&&e})),{params:u,doesMatch:r}},t.prototype.handleHashChange=function(){var t=this,e=window.location.hash.replace("#","");this.routes.forEach(function(n){t.parseRouteUrl(e,n)})},t.prototype.register=function(t,e){return this.routes.push(new n(t,e)),this},t}();t.exports=s},function(t,exports){"use strict";var e=function(){function t(t,e){this.url=t,this.callback=e}return t}();t.exports=e},function(t,exports){"use strict";var e=function(){function t(t){this.id=t.id||0,this.list=t.list||"",this.product=t.product||""}return t}();t.exports=e}]);
//# sourceMappingURL=bundle.js.map